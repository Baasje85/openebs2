{% extends "base.html" %}

{% block content %}
    <h2>Gerealiseerde ritten</h2>
    <p>Die in het afgelopen half uur reden</p>

    <table class="table table-striped table-condensed table-bordered col-lg-8">
        <tr>
            <th class="col-lg-2">Lijn</th>
            <th class="col-lg-3">Gereden</th>
            <th class="col-lg-3">Verwacht</th>
            <th class="col-lg-4">Percentage</th>
        </tr>
        {% for lijn in list|dictsort:"percentage" %}
            <tr class="line" data-line="{{ lijn.lineplanningnumber }}">
                <td><strong>{{ lijn.publiclinenumber }}</strong></td>
                <td>{{ lijn.seen }}</td>
                <td>{{ lijn.expected }}</td>
                <td>{{ lijn.percentage }}%
                    <a class="btn btn-primary btn-xs pull-right view-detail" data-toggle="collapse" data-target="#l{{ lijn.lineplanningnumber }}">
                        Details
                    </a>
                </td>
            </tr>
            <tr class="collapse" id="l{{ lijn.lineplanningnumber }}">
                <td></td>
                <td colspan="4">
                    <ul class="row">
                        {% for vehicle in lijn.live %}
                            <li class="col-xs-4">{{ vehicle.vehiclenumber }} - {{ vehicle.journeynumber }}</li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

{% block js_init %}
     $(".view-detail").click(function() {

     });
{% endblock %}